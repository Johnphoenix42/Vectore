package apputil;

import javafx.scene.shape.SVGPath;

import java.util.regex.Matcher;
import java.util.regex.Pattern;

public enum Icon {

    ALIGN_LEFT("M2 4.5C2 4.22386 2.22386 4 2.5 4H12.5C12.7761 4 13 4.22386 13 4.5C13 4.77614 12.7761 5 12.5 5H2.5C2.22386 5 2 4.77614 2 4.5ZM2 7.5C2 7.22386 2.22386 7 2.5 7H7.5C7.77614 7 8 7.22386 8 7.5C8 7.77614 7.77614 8 7.5 8H2.5C2.22386 8 2 7.77614 2 7.5ZM2 10.5C2 10.2239 2.22386 10 2.5 10H10.5C10.7761 10 11 10.2239 11 10.5C11 10.7761 10.7761 11 10.5 11H2.5C2.22386 11 2 10.7761 2 10.5Z"),
    ALIGN_CENTER("M17.25,18 C17.6642,18 18,18.3358 18,18.75 C18,19.1642 17.6642,19.5 17.25,19.5 L6.75,19.5 C6.33579,19.5 6,19.1642 6,18.75 C6,18.3358 6.33579,18 6.75,18 L17.25,18 Z M21.25,11.5 C21.6642,11.5 22,11.8358 22,12.25 C22,12.6296833 21.7178347,12.9434889 21.3517677,12.9931531 L21.25,13 L2.75,13 C2.33579,13 2,12.6642 2,12.25 C2,11.8703167 2.28215688,11.5565111 2.64823019,11.5068469 L2.75,11.5 L21.25,11.5 Z M19.25,5 C19.6642,5 20,5.33579 20,5.75 C20,6.16421 19.6642,6.5 19.25,6.5 L4.75,6.5 C4.33579,6.5 4,6.16421 4,5.75 C4,5.33579 4.33579,5 4.75,5 L19.25,5 Z"),
    ALIGN_RIGHT("M3 5C2.44772 5 2 5.44772 2 6C2 6.55228 2.44772 7 3 7H21C21.5523 7 22 6.55228 22 6C22 5.44772 21.5523 5 21 5H3Z    M3 13C2.44772 13 2 13.4477 2 14C2 14.5523 2.44772 15 3 15H21C21.5523 15 22 14.5523 22 14C22 13.4477 21.5523 13 21 13H3Z    M8 10C8 9.44772 8.44772 9 9 9H21C21.5523 9 22 9.44772 22 10C22 10.5523 " +
            "21.5523 11 21 11H9C8.44772 11 8 10.5523 8 10Z    M9 17C8.44772 17 8 17.4477 8 18C8 18.5523 8.44772 19 9 19H21C21.5523 19 22 18.5523 22 18C22 17.4477 21.5523 17 21 17H9Z"),
    ALIGN_JUSTIFY("M4 5C3.44772 5 3 5.44772 3 6C3 6.55228 3.44772 7 4 7H20C20.5523 7 21 6.55228 21 6C21 5.44772 20.5523 5 20 5H4Z M4 9C3.44772 9 3 9.44772 3 10C3 10.5523 3.44772 11 4 11H20C20.5523 11 21 10.5523 21 10C21 9.44772 20.5523 9 20 9H4Z " +
            "M3 14C3 13.4477 3.44772 13 4 13H20C20.5523 13 21 13.4477 21 14C21 14.5523 20.5523 15 20 15H4C3.44772 15 3 14.5523 3 14Z M4 17C3.44772 17 3 17.4477 3 18C3 18.5523 3.44772 19 4 19H20C20.5523 19 21 18.5523 21 18C21 17.4477 20.5523 17 20 17H4Z"),
    CIRCLE_TOOL("M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z"),
    PATH_TOOL("M7.5 2.75C7.5 2.33579 7.16421 2 6.75 2C6.33579 2 6 2.33579 6 2.75V5.75C6 6.60889 6.61875 7.32327 7.43481 7.47169L6.34113 10.4403C6.08209 11.1434 6.12117 11.9217 6.44935 12.5954L10.6068 21.129C10.8664 21.6619 11.4072 22 12 22C12.5927 22 13.1336 21.6619 13.3932 21.129L17.5034 12.6923C17.8691 11.9415 17.8739 11.0653 17.5165 10.3106L16.1851 7.5H16.25C17.2165 7.5 18 6.7165 18 5.75V2.75C18 2.33579 17.6642 2 17.25 2C16.8358 2 16.5 2.33579 16.5 2.75V5.75C16.5 5.88807 16.3881 6 16.25 6H7.75C7.61193 6 7.5 5.88807 7.5 5.75V2.75ZM14.5254 7.5L16.1609 10.9527" +
            "C16.3234 11.2958 16.3212 11.6941 16.1549 12.0353L12.75 19.0243V12.2993C13.1984 12.04 13.5 11.5552 13.5 11C13.5 10.1716 12.8284 9.5 12 9.5C11.1716 9.5 10.5 10.1716 10.5 11C10.5 11.5552 10.8016 12.04 11.25 12.2993V19.0244L7.79783 11.9384C7.64866 11.6322 7.6309 11.2784 7.74864 10.9588L9.02294 7.5H14.5254Z"),
    RECTANGLE_TOOL("M6 5C5.44772 5 5 5.44772 5 6C5 6.55228 5.44772 7 6 7C6.55228 7 7 6.55228 7 6C7 5.44772 6.55228 5 6 5ZM3 6C3 4.34315 4.34315 3 6 3C7.30622 3 8.41746 3.83481 8.82929 5H15.1707C15.5825 3.83481 16.6938 3 18 3C19.6569 3 21 4.34315 21 6C21 7.30622 20.1652 8.41746 19 8.82929V15.1707C20.1652 15.5825 21 16.6938 21 18C21 19.6569 19.6569 21 18 21C16.6938 21 15.5825 20.1652 15.1707 19H8.82929C8.41746 20.1652 7.30622 21 6 21C4.34315 21 3 19.6569 3 18C3 16.6938 3.83481 15.5825 5 15.1707V8.82929C3.83481 8.41746 3 7.30622 3 6ZM7 8.82929V15.1707" +
            "C7.85241 15.472 8.52801 16.1476 8.82929 17H15.1707C15.472 16.1476 16.1476 15.472 17 15.1707V8.82929C16.1476 8.52801 15.472 7.85241 15.1707 7H8.82929C8.52801 7.85241 7.85241 8.52801 7 8.82929ZM18 5C17.4477 5 17 5.44772 17 6C17 6.55228 17.4477 7 18 7C18.5523 7 19 6.55228 19 6C19 5.44772 18.5523 5 18 5ZM6 17C5.44772 17 5 17.4477 5 18C5 18.5523 5.44772 19 6 19C6.55228 19 7 18.5523 7 18C7 17.4477 6.55228 17 6 17ZM18 17C17.4477 17 17 17.4477 17 18C17 18.5523 17.4477 19 18 19C18.5523 19 19 18.5523 19 18C19 17.4477 18.5523 17 18 17Z"),
    TEXT_TOOL("M318.765,9.888c-0.063-5.479-4.521-9.888-10-9.888H10.83c-5.523,0-10,4.478-10,10v55c0,5.522,4.477,10,10,10h22.596 c3.039,0,5.912-1.381,7.809-3.753L58.232,50h71.592v259.635c0,5.521,4.477,10,10,10h40c5.521,0,10-4.479,10-10V50.001h71.514 l17.08,21.263c1.898,2.363,4.769,3.737,7.799,3.737h22.588c2.66,0,5.212-1.061,7.089-2.946c1.877-1.885,2.926-4.441,2.911-7.102 L318.765,9.888z");

    private String pathData;
    private final SVGPath svgPath;

    Icon(String pathData) {
        this.pathData = pathData;
        svgPath = new SVGPath();
        svgPath.setContent(pathData);
    }

    public SVGPath getSvgPath() {
        return svgPath;
    }

    public Icon resize(double toMax) {
        String regexPatternString = "[0-9\\Q.\\E]+";
        Pattern pattern = Pattern.compile(regexPatternString);
        Matcher matcher = pattern.matcher(pathData);
        StringBuffer buffer = new StringBuffer();
        double max = 600;
        while (matcher.find()) {
            double capturingGroup = Math.round(Double.parseDouble(matcher.group()));
            max = Math.max(max, capturingGroup);
            matcher.appendReplacement(buffer, String.valueOf(capturingGroup / (max / toMax)));
        }
        matcher.appendTail(buffer);
        pathData = buffer.toString();
        getSvgPath().setContent(pathData);
        return this;
    }
}
